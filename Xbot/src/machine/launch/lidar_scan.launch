<launch>
    <!--<arg name = "use_rplidar_only" default = "false" />-->
    <!--<arg name = "use_asus_only" default = "true" />-->
    <!--<arg name = "use_fussion_data" default = "false" />-->

    <!--<arg name="asus_topic"     value="/scan"  if="$(arg use_asus_only)"/>-->
    <!--<arg name="asus_topic"     value="/asus_scan" unless="$(arg use_asus_only)"/>-->

    <!--<arg name="rplidar_topic" value="/scan" if="$(arg use_rplidar_only)"/>-->
    <!--<arg name="rplidar_topic" value="/rplidar_scan" unless="$(arg use_rplidar_only)"/>-->

    <!--<arg name="rplidar_frame" value="laser" />-->
      <!--&lt;!&ndash; Laserscan topic &ndash;&gt;-->
    <arg name="scan_height"      value="200"/>
    <!--&lt;!&ndash; Factory-calibrated depth registration &ndash;&gt;-->
    <arg name="camera"      value="camera"/>

    <!--Laserscan-->
    <!--<group if="$(arg use_rplidar_only)">-->
        <!--<include file="$(find rplidar_python)/launch/rplidar.launch"/>-->
    <!--</group>-->

    <!--<group if="$(arg use_asus_only)">-->
        <!--<node pkg="nodelet" type="nodelet" name="depthimage_to_laserscan" args="load depthimage_to_laserscan/DepthImageToLaserScanNodelet $(arg camera)/$(arg camera)_nodelet_manager">-->
            <!--<param name="scan_height" value="$(arg scan_height)" />-->
            <!--<param name="output_frame_id" value="/$(arg camera)_depth_frame"/>-->
            <!--<param name="range_min" value="0.2"/>-->
            <!--<remap from="image" to="$(arg camera)/depth_registered/image_raw"/>-->
            <!--<remap from="scan" to="$(arg asus_topic)"/>-->
            <!--<remap from="$(arg camera)/image" to="$(arg camera)/depth_registered/image_raw"/>-->
            <!--<remap from="$(arg camera)/scan" to="$(arg asus_topic)"/>-->
        <!--</node>-->
    <!--</group>-->

    <!--<group if="$(arg use_fussion_data)">-->
    <include file="$(find rplidar_python)/launch/rplidar.launch"/>

    <node pkg="nodelet" type="nodelet" name="depthimage_to_laserscan" args="load depthimage_to_laserscan/DepthImageToLaserScanNodelet $(arg camera)/$(arg camera)_nodelet_manager">
        <param name="scan_height" value="$(arg scan_height)" />
        <param name="output_frame_id" value="/$(arg camera)_depth_frame"/>
        <param name="range_min" value="0.2"/>
        <remap from="image" to="$(arg camera)/depth_registered/image_raw"/>
        <remap from="scan" to="/asus_scan"/>
        <remap from="$(arg camera)/image" to="$(arg camera)/depth_registered/image_raw"/>
        <remap from="$(arg camera)/scan" to="/asus_scan"/>
    </node>

    <include file="$(find nav_staff)/launch/xml/data_fusion.launch.xml">
        <arg name = 'fussion_use_rplidar_topic'      value = '/rplidar_scan' />
        <arg name = 'fussion_use_asus_topic'         value = '/asus_scan' />
        <arg name = 'fussion_scan_topic'             value = '/scan' />

        <arg name = 'fussion_PublishFrequency'       value= '0.01' />
        <arg name = 'fussion_asus_max_range'         value= '3.0' />
    </include>
    <!--</group>-->

</launch>
